[BITS 16]
[ORG 0X7C00]

_START:
    CLI ; CLEAR INTERRUPTS.
    MOV AX, 0X00
    MOV DS, AX
    MOV ES, AX
    MOV SS, AX
    MOV SP, 0X7C00
    STI ; START INTERRUPTS.
    MOV SI, MSG

PRINT:
    LODSB ; LOAD SP AND INCREMENT IT.
    CMP AL, 0
    JE DONE
    MOV AH, 0X0E
    INT 0X10
    JMP PRINT

DONE:
    CLI
    HLT
 
MSG: DB 'BOOTLOADER LOADED: HELLO WORLD!', 0 ;VISUAL CHECK THAT BOOTLOADER IS LOADED.

;GDT IMPLEMENTATION
GDT_START:
    DB 0X00000000
    DB 0X00000000
    DW 0XFFFF    ;LIMITER
    DW 0X0000    ;BASE
    DB 0X00      ;BASE
    DB 10011010B ;ACCESS BYTE
    DB 11001111B ;FLAGS

TIMES 510 - ($ - $$) DB 0

DW 0XAA55
